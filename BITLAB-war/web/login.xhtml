<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Inicio de sesion | BITLAB </title>
        <!-- Tell the browser to be responsive to screen width -->
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <!-- Font Awesome -->
        <link rel="stylesheet" href="resources/plugins/fontawesome-free/css/all.min.css" />
        <!-- Ionicons -->
        <link
            rel="stylesheet"
            href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css"
            />
        <link rel="icon" type="image/png" href="resources/dist/img/favicon.png" />
        <!-- Theme style -->
        <link rel="stylesheet" href="resources/dist/css/adminlte.min.css" />

        <!-- overlayScrollbars -->
        <link
            rel="stylesheet"
            href="resources/plugins/overlayScrollbars/css/OverlayScrollbars.min.css"
            />
        <!-- Google Font: Source Sans Pro -->
        <link
            href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700"
            rel="stylesheet"
            />
        
    </h:head>
    <h:body class="hold-transition login-page">

        <div class="login-box">
            <!-- Mensaje recibido del menejador -->
            <p:messages id="messagesAll" closable="true" showDetail="true" />
            <div class="login-logo">
                <img src="resources/dist/img/BitlabLogo.png" width="150px" height="150px"></img>
                <br/>
                <b>Sistema de seleccion de becarios</b>
                
            </div>
            <!-- /.login-logo -->
            <div class="card">
                <div class="card-body login-card-body">
                    <p class="login-box-msg">多Ya tienes cuenta? <br/>Identificate para acceder al sistema.</p>

                    <h:form id="login">
                        <div class="input-group mb-3">
                            <p:inputText class="form-control" value="#{usuarioManaged.usuario}" placeholder="Correo" validatorMessage="Error, por favor ingrese un correo valido" >
                                 <f:validateRegex pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$"/>
                            </p:inputText>
                            
                            <div class="input-group-append">
                                <div class="input-group-text">
                                    <span class="fas fa-envelope"></span>
                                </div>
                            </div>
                        </div>
                        <div class="input-group mb-3">
                            <p:password class="form-control" placeholder="Contrase単a" value="#{usuarioManaged.contrasena}"/>
                            <div class="input-group-append">
                                <div class="input-group-text">
                                    <span class="fas fa-lock"></span>
                                </div>
                            </div>
                        </div>
                        <div class="row">

                            <!-- /.col -->
                            <div class="col-6 ">
                                <p:commandButton  value="Iniciar Sesion" actionListener="#{usuarioManaged.validarUsuario()}" update=":messagesAll" resetValues="true"/>
                            </div>
                            <!-- /.col -->  
                        </div>
                    </h:form>
                    <p class="mb-1">
                        <br/>
                        <a href="forgot-password.bitlab">Olvide mi contrase単a</a>
                    </p>
                    <p class="login-box-msg">多Es tu primera vez aplicando? <br/><b> <a href="registro.bitlab">Registrate aqui</a> </b></p>
                </div>
                <!-- /.login-card-body -->

            </div>

        </div> 
        <p:ajaxStatus onstart="PF('statusDialog').show()" onsuccess="PF('statusDialog').hide()" />
                <style>
                    .customDialog .ui-dialog-content.ui-widget-content, .customDialog .ui-dialog-titlebar.ui-widget-header{
                        background: transparent;
                        border: none;
                        min-width: 90px;
                        min-height: 80px;
                    }
                    body .ui-dialog{
                        box-shadow: none;
                    }
                </style>
                <p:dialog widgetVar="statusDialog" modal="false" draggable="false" closable="false" resizable="false" showHeader="false" responsive="true" position="right bottom" styleClass="customDialog">
                    <i class="pi pi-spin pi-spinner" style="font-size: 5em;"/>
                </p:dialog>
         <!-- jQuery -->
            <script src="resources/plugins/jquery/jquery.min.js"></script>
            <!-- jQuery UI 1.11.4 -->
            <script src="resources/plugins/jquery-ui/jquery-ui.min.js"></script>
            <!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
            <script>
                $.widget.bridge("uibutton", $.ui.button);
            </script>
            <!-- Bootstrap 4 -->
            <script src="resources/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
            <!-- overlayScrollbars -->
            <script src="resources/plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js"></script>
            <!-- AdminLTE App -->
            <script src="resources/dist/js/adminlte.js"></script>
    </h:body>
</html>

